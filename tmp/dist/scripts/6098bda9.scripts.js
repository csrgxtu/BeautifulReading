"use strict";function removeVendorExtensions(a){if(!angular.isObject(a)||angular.isArray(a))return a;var b={};return Object.keys(a).forEach(function(c){"x-"!==c.toLowerCase().substring(0,2)&&(b[c]=removeVendorExtensions(a[c]))}),b}window.SwaggerEditor=angular.module("SwaggerEditor",["ngCookies","ngResource","ngSanitize","ui.router","ui.ace","ui.bootstrap","ngStorage","ngSanitize","jsonFormatter","hc.marked","ui.layout","mohsen1.json-schema-view","mohsen1.schema-form","ngFileUpload"]),$(function(){var a=window.$$embeddedDefaults;if(a)window.SwaggerEditor.$defaults=a,angular.bootstrap(window.document,["SwaggerEditor"]);else{var b="";window.location.pathname.lastIndexOf("/")!==window.location.pathname.length-1&&(b=window.location.pathname+"/../"),$.getJSON(b+"./config/defaults.json").done(function(a){window.SwaggerEditor.$defaults=a,angular.bootstrap(window.document,["SwaggerEditor"])}).fail(function(){console.error("Failed to load defaults.json at",b+"./config/defaults.json")})}}),ace.define("ace/theme/atom_dark",["require","exports","module","ace/lib/dom"],function(a,b,c){b.isDark=!0,b.cssClass="ace-atom-dark",b.cssText=".ace-atom-dark .ace_gutter {background: #1a1a1a;color: #868989}.ace-atom-dark .ace_print-margin {width: 1px;background: #1a1a1a}.ace-atom-dark {background-color: #1d1f21;color: #A8FF60}.ace-atom-dark .ace_cursor {color: white}.ace-atom-dark .ace_marker-layer .ace_selection {background: #444444}.ace-atom-dark.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #000000;border-radius: 2px}.ace-atom-dark .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-atom-dark .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #888888}.ace-atom-dark .ace_marker-layer .ace_highlight {border: 1px solid rgb(110, 119, 0);border-bottom: 0;box-shadow: inset 0 -1px rgb(110, 119, 0);margin: -1px 0 0 -1px;background: rgba(255, 235, 0, 0.1);}.ace-atom-dark .ace_marker-layer .ace_active-line {background: #2A2A2A}.ace-atom-dark .ace_gutter-active-line {background-color: #2A2A2A}.ace-atom-dark .ace_stack {background-color: rgb(66, 90, 44)}.ace-atom-dark .ace_marker-layer .ace_selected-word {border: 1px solid #888888}.ace-atom-dark .ace_invisible {color: #343434}.ace-atom-dark .ace_keyword,.ace-atom-dark .ace_meta,.ace-atom-dark .ace_storage,.ace-atom-dark .ace_storage.ace_type,.ace-atom-dark .ace_support.ace_type {color: #96CBFE}.ace-atom-dark .ace_keyword.ace_operator {color: #70C0B1}.ace-atom-dark .ace_constant.ace_character,.ace-atom-dark .ace_constant.ace_language,.ace-atom-dark .ace_constant.ace_numeric,.ace-atom-dark .ace_keyword.ace_other.ace_unit,.ace-atom-dark .ace_support.ace_constant,.ace-atom-dark .ace_variable.ace_parameter {color: #fe73fd}.ace-atom-dark .ace_constant.ace_other {color: #EEEEEE}.ace-atom-dark .ace_invalid {color: #CED2CF;background-color: #DF5F5F}.ace-atom-dark .ace_invalid.ace_deprecated {color: #CED2CF;background-color: #B798BF}.ace-atom-dark .ace_fold {background-color: #7AA6DA;border-color: #DEDEDE}.ace-atom-dark .ace_entity.ace_name.ace_function,.ace-atom-dark .ace_support.ace_function,.ace-atom-dark .ace_variable {color: #7AA6DA}.ace-atom-dark .ace_support.ace_class,.ace-atom-dark .ace_support.ace_type {color: #E7C547}.ace-atom-dark .ace_heading,.ace-atom-dark .ace_markup.ace_heading,.ace-atom-dark .ace_string {color: #B9CA4A}.ace-atom-dark .ace_entity.ace_name.ace_tag,.ace-atom-dark .ace_entity.ace_other.ace_attribute-name,.ace-atom-dark .ace_meta.ace_tag,.ace-atom-dark .ace_string.ace_regexp,.ace-atom-dark .ace_variable {color: #96CBFE}.ace-atom-dark .ace_comment {color: #7a7a7a}.ace-atom-dark .ace_c9searchresults.ace_keyword {color: #C2C280;}.ace-atom-dark .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYFBXV/8PAAJoAXX4kT2EAAAAAElFTkSuQmCC) right repeat-y}";var d=a("../lib/dom");d.importCssString(b.cssText,b.cssClass)}),SwaggerEditor.config(["$provide",function(a){function b(a){return["${1:"+a+"}:","  summary: ${2}","  description: ${2}","  responses:","    ${3:200:}","      description: ${4:OK}","${6}"].join("\n")}function c(a){return["${1:"+a+"}:","  description: ${2}","${3}"].join("\n")}a.constant("snippets",[{name:"swagger",trigger:"sw",path:[],content:['swagger: "2.0"',"${1}"].join("\n")},{name:"info",trigger:"info",path:[],content:["info:","  version: ${1:0.0.0}","  title: ${2:title}","  description: ${3:description}","  termsOfService: ${4:terms}","  contact:","    name: ${5}","    url: ${6}","    email: ${7}","  license:","    name: ${8:MIT}","    url: ${9:http://opensource.org/licenses/MIT}","${10}"].join("\n")},{name:"paths",trigger:"pa",path:[],content:["paths:","  ${1}"].join("\n")},{name:"definitions",trigger:"def",path:[],content:["definitions:","  ${1}"].join("\n")},{name:"path",trigger:"path",path:["paths"],content:["/${1}:","  ${2}"].join("\n")},{name:"get",trigger:"get",path:["paths","*"],content:b("get")},{name:"post",trigger:"post",path:["paths","."],content:b("post")},{name:"put",trigger:"put",path:["paths","."],content:b("put")},{name:"delete",trigger:"delete",path:["paths","."],content:b("delete")},{name:"patch",trigger:"patch",path:["paths","."],content:b("patch")},{name:"options",trigger:"options",path:["paths","."],content:b("options")},{name:"parameter",trigger:"param",path:["paths",".",".","parameters"],content:["- name: ${1:parameter_name}","  in: ${2:query}","  description: ${3:description}","  type: ${4:string}","${5}"].join("\n")},{name:"parameter",trigger:"param",path:["paths",".","parameters"],content:["- name: ${1:parameter_name}","  in: ${2:path}","  description: ${3:description}","  type: ${4:string}","${5}"].join("\n")},{name:"response",trigger:"resp",path:["paths",".",".","responses"],content:["${1:code}:","  description: ${2}","  schema: ${3}","${4}"].join("\n")},{name:"200",trigger:"200",path:["paths",".",".","responses"],content:c("200")},{name:"300",trigger:"300",path:["paths",".",".","responses"],content:c("300")},{name:"400",trigger:"400",path:["paths",".",".","responses"],content:c("400")},{name:"500",trigger:"500",path:["paths",".",".","responses"],content:c("500")},{name:"model",trigger:"mod|def",regex:"mod|def",path:["definitions"],content:["${1:ModelName}:","  properties:","    ${2}"]}])}]),function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),_.templateSettings={interpolate:/\{(.+?)\}/g},SwaggerEditor.controller("MainCtrl",["$scope","$rootScope","$stateParams","$location","Editor","Storage","FileLoader","BackendHealthCheck","defaults","Analytics",function(a,b,c,d,e,f,g,h,i,j){function k(a){console.log(a),f.load("yaml").then(function(a){var b,e=!1;c["import"]?(b=c["import"],e=Boolean(c["no-proxy"]),d.search("import",null),d.search("no-proxy",null)):a||(b=i.examplesFolder+i.exampleFiles[0]),b&&g.loadFromUrl(b,e).then(l)})}function l(a){a&&(f.save("yaml",a),b.editorValue=a)}j.initialize(),b.$on("$stateChangeStart",e.initializeEditor),i.backendHealthCheckTimeout>0&&h.startChecking(),b.$on("$stateChangeStart",k),$("body").addClass(i.brandingCssClass),k();var m=new FileReader;a.draggedFiles=[],a.$watch("draggedFiles",function(){var b=a.draggedFiles[0];b&&m.readAsText(b,"utf-8")}),m.onloadend=function(){m.result&&l(g.load(m.result))}}]),SwaggerEditor.controller("HeaderCtrl",["$scope","$modal","$stateParams","$state","$rootScope","Storage","Builder","FileLoader","ASTManager","Editor","Codegen","Preferences","defaults","strings","$localStorage",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(a){b.open({templateUrl:"templates/code-gen-error-modal.html",controller:"GeneralModal",size:"large",resolve:{data:function(){return a.data}}})}function q(){var b="text/plain";f.load("yaml").then(function(c){var d=jsyaml.load(c);try{JSON.parse(c),c=jsyaml.dump(jsyaml.load(c))}catch(e){}d.info.version&&(d.info.version=String(d.info.version)),d.swagger&&(2===d.swagger?d.swagger="2.0":d.swagger=String(d.swagger)),d=JSON.stringify(d,null,4);var f=new Blob([d],{type:b});a.jsonDownloadHref=window.URL.createObjectURL(f),a.jsonDownloadUrl=[b,"swagger.json",a.jsonDownloadHref].join(":");var g=new Blob([c],{type:b});a.yamlDownloadHref=window.URL.createObjectURL(g),a.yamlDownloadUrl=[b,"swagger.yaml",a.yamlDownloadHref].join(":")})}function r(){}c.path?a.breadcrumbs=[{active:!0,name:c.path}]:a.breadcrumbs=[],f.addChangeListener("progress",function(b){var c=n.stausMessages[b],d=null;/success/.test(b)&&(d="success",c="✔️ "+c),/error/.test(b)&&(d="error",c="❌"+c),a.status=c,a.statusClass=d}),o.$default({showIntro:!m.disableNewUserIntro}),e.showAbout=o.showIntro,a.disableCodeGen=m.disableCodeGen,m.disableCodeGen||(k.getServers().then(function(b){a.servers=b}),k.getClients().then(function(b){a.clients=b})),a.getSDK=function(a,b){k.getSDK(a,b).then(r,p)},a.showFileMenu=function(){return!m.disableFileMenu},a.showHeaderBranding=function(){return m.headerBranding},a.newProject=function(){h.loadFromUrl("spec-files/guide.yaml").then(function(a){e.editorValue=a,i.refresh(e.editorValue),f.save("yaml",a)})},a.assignDownloadHrefs=function(){q(a,f)},a.openImportFile=function(){b.open({templateUrl:"templates/file-import.html",controller:"FileImportCtrl",size:"large"})},a.openImportUrl=function(){b.open({templateUrl:"templates/url-import.html",controller:"UrlImportCtrl",size:"large"})},a.openPasteJSON=function(){b.open({templateUrl:"templates/paste-json.html",controller:"PasteJSONCtrl",size:"large"})},a.openAbout=function(){b.open({templateUrl:"templates/about.html",size:"large",controller:"ModalCtrl"})},e.toggleAboutEditor=function(a){e.showAbout=a,o.showIntro=a},a.openEditorPreferences=j.showSettings,a.resetSettings=j.resetSettings,a.adjustFontSize=j.adjustFontSize,a.openExamples=function(){b.open({templateUrl:"templates/open-examples.html",controller:"OpenExamplesCtrl",size:"large"})},a.toggleLiveRender=function(){l.set("liveRender",!l.get("liveRender"))},a.isLiveRenderEnabled=function(){return!!l.get("liveRender")},a.capitalizeGeneratorName=function(a){var b={jaxrs:"JAX-RS",nodejs:"Node.js",scalatra:"Scalatra","spring-mvc":"Spring MVC",android:"Android","async-scala":"Async Scala",csharp:"C#",java:"Java",objc:"Objective-C",php:"PHP",python:"Python",ruby:"Ruby",scala:"Scala","dynamic-html":"Dynamic HTML",html:"HTML",swagger:"Swagger JSON","swagger-yaml":"Swagger YAML",tizen:"Tizen"};return b[a]?b[a]:a.split(/\s+|\-/).map(function(a){return a[0].toUpperCase()+a.substr(1)}).join(" ")}}]),SwaggerEditor.controller("FileImportCtrl",["$scope","$modalInstance","$rootScope","$localStorage","FileLoader","Storage","ASTManager",function(a,b,c,d,e,f,g){var h;a.fileChanged=function(a){h=e.load(a)},a.ok=function(){angular.isString(h)&&(c.editorValue=h,f.save("yaml",h),g.refresh(c.editorValue)),b.close()},a.isInvalidFile=function(){return null===h},a.isFileSelected=function(){return!!h},a.cancel=b.close}]),SwaggerEditor.controller("EditorCtrl",["$scope","$rootScope","Editor","Builder","Storage","ASTManager","ExternalHooks",function(a,b,c,d,e,f,g){function h(){var a=b.editorValue;e.save("yaml",a),f.refresh(b.editorValue),g.trigger("code-change",[])}var i=_.debounce(h,200);a.aceLoaded=c.aceLoaded,a.aceChanged=function(){e.save("progress","progress-working"),i()},c.ready(function(){e.load("yaml").then(function(a){b.editorValue=a,h(!0)})})}]),SwaggerEditor.controller("PreviewCtrl",["Storage","Builder","ASTManager","Sorter","Editor","BackendHealthCheck","FocusedPath","TagManager","Preferences","$scope","$rootScope","$stateParams","$sessionStorage",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(d,e){return i.get("liveRender")||e||!j.specs?(c.refresh(d),void(f.isHealthy()&&b.buildDocs(d).then(p,q))):(k.isDirty=!0,void a.save("progress","progress-unsaved"))}function o(a){var b={};angular.isString(l.tags)&&(b.limitToTags=l.tags.split(",")),r(d.sort(_.cloneDeep(a.specs),{}));var c=d.sort(a.specs,b);angular.isObject(j.specs)&&!_.isEmpty(c)?_.applyDiff(c,j.specs):j.specs=c,j.specs&&j.specs.securityDefinitions&&_.forEach(j.specs.securityDefinitions,function(a,b){s[b]=t.hash(JSON.stringify(a))}),j.errors=a.errors,j.warnings=a.warnings}function p(b){o(b),j.errors=null,a.save("progress","success-process"),e.clearAnnotation(),angular.isArray(b.warnings)&&b.warnings.forEach(function(a){e.annotateSwaggerError(a,"warning")})}function q(b){o(b),angular.isArray(b.errors)?b.errors[0].yamlError?(e.annotateYAMLErrors(b.errors[0].yamlError),a.save("progress","error-yaml")):b.errors.length?(a.save("progress","error-swagger"),b.errors.forEach(e.annotateSwaggerError)):a.save("progress","error-general"):a.save("progress","error-general")}function r(a){angular.isObject(a)&&h.registerTagsFromSpecs(a)}m.$default({securityKeys:{}});var s=m.securityKeys,t=window.SparkMD5;a.addChangeListener("yaml",n),j.loadLatest=function(){a.load("yaml").then(function(a){n(a,!0)}),k.isDirty=!1},"preview"===k.mode&&j.loadLatest(),c.onFoldStatusChanged(function(){_.defer(function(){j.$apply()})}),j.isCollapsed=c.isFolded,j.isAllFolded=c.isAllFolded,j.toggle=function(a){c.toggleFold(a,e)},j.toggleAll=function(a){c.setFoldAll(a,!0,e)},j.tagIndexFor=h.tagIndexFor,j.getAllTags=h.getAllTags,j.getCurrentTags=h.getCurrentTags,j.stateParams=l,j.focusEdit=function(a,b,d){a.stopPropagation();var f=c.lineForPath(b);d=d||0,e.gotoLine(f-d),e.focus()},j.isInFocus=function(a){return!!a},j.getEditPath=function(a){return"#/paths?path="+window.encodeURIComponent(a)},j.responseCodeClassFor=function(a){var b="default";switch(Math.floor(+a/100)){case 2:b="green";break;case 5:b="red";break;case 4:b="yellow";break;case 3:b="blue"}return b},j.isVendorExtension=function(a){return angular.isString(a)&&"x-"===a.substring(0,2).toLowerCase()},j.showDefinitions=function(a){return angular.isObject(a)}}]),SwaggerEditor.controller("GeneralModal",["$scope","$modalInstance","data",function(a,b,c){a.ok=b.close,a.cancel=b.close,a.data=c}]),SwaggerEditor.controller("UrlImportCtrl",["$scope","$modalInstance","$localStorage","$rootScope","FileLoader","Storage","ASTManager",function(a,b,c,d,e,f,g){function h(b){a.error=null,a.canImport=!1,_.startsWith(b,"http")?e.loadFromUrl(b,!a.opts.useProxy).then(function(b){i=b,a.canImport=!0},function(b){a.error=b,a.canImport=!1}):a.error="Invalid URL"}var i;a.url=null,a.opts={useProxy:!0},a.fetch=_.throttle(h,200),a.ok=function(){angular.isString(i)&&(f.save("yaml",i),d.editorValue=i,g.refresh(d.editorValue)),b.close()},a.cancel=b.close}]),SwaggerEditor.controller("PasteJSONCtrl",["$scope","$modalInstance","$rootScope","Storage","ASTManager",function(a,b,c,d,e){var f;a.checkJSON=function(b){a.canImport=!1;try{f=JSON.parse(b)}catch(c){return a.error=c.message,void(a.canImport=!1)}SwaggerTools.specs.v2.validate(f,function(b,c){return a.canImport=!0,a.error=null,c&&c.errors?void(a.error=c.errors):void 0})},a.ok=function(){var a=jsyaml.dump(f);d.save("yaml",a),c.editorValue=a,e.refresh(c.editorValue),b.close()},a.cancel=b.close}]),SwaggerEditor.controller("ErrorPresenterCtrl",["$scope","$rootScope","Editor","ASTManager",function(a,b,c,d){var e=900,f=500;a.isCollapsed=!1,a.getErrors=function(){var b=a.$parent.errors||[],c=a.$parent.warnings;return Array.isArray(b)&&(b=b.map(function(a){return a.level=e,a})),Array.isArray(c)?(c=c.map(function(a){return a.level=f,a}),b.concat(c)):b},a.getType=function(a){return a.code&&a.message&&a.path?a.level>500?"Swagger Error":"Swagger Warning":a.yamlError?"YAML Syntax Error":a.emptyDocsError?"Empty Document Error":"Unknown Error"},a.getDescription=function(a){return angular.isString(a.message)?a.message:a.emptyDocsError?a.emptyDocsError.message:a.yamlError?a.yamlError.message.replace("JS-YAML: ","").replace(/./,function(a){return a.toUpperCase()}):a.resolveError?a.resolveError:a},a.isOnlyWarnings=function(){var b=a.$parent.errors||[],c=a.$parent.warnings||[];return c.length&&0===b.length},a.getTitle=function(){var b=a.$parent.errors||[],c=a.$parent.warnings||[];return 0===b.length?0===c.length?"No Errors or Warnings":1===c.length?"1 Warning":c.length+" Warnings":1===b.length?0===c.length?"1 Error":1===c.length?"1 Error and 1 Warning":"1 Error and "+c.length+" Warnings":0===c.length?b.length+" Errors":1===c.length?b.length+" Errors and  1 Warning":b.length+" Errors and "+c.length+" Warnings"},a.showLineJumpLink=function(b){return null!==a.getLineNumber(b)},a.getLineNumber=function(a){var b=null;return a.yamlError&&(b=a.yamlError.mark.line),a.path&&a.path.length&&(b=d.lineForPath(_.cloneDeep(a.path))),b},a.goToLineOfError=function(b){b&&(c.gotoLine(a.getLineNumber(b)),c.focus())},a.isWarning=function(a){return a.level<e},a.toggleCollapse=function(){a.isCollapsed=!a.isCollapsed}}]),SwaggerEditor.controller("OpenExamplesCtrl",["$scope","$modalInstance","$rootScope","FileLoader","Builder","Storage","ASTManager","Analytics","defaults",function(a,b,c,d,e,f,g,h,i){a.files=i.exampleFiles,a.selectedFile=i.exampleFiles[0],a.open=function(a){var e=_.endsWith(location.pathname,"/")?location.pathname.substring(1):location.pathname,j=e+i.examplesFolder+a;d.loadFromUrl(j).then(function(a){f.save("yaml",a),g.refresh(a),c.editorValue=a,b.close()},b.close),h.sendEvent("open-example","open-example:"+a)},a.cancel=b.close}]),SwaggerEditor.controller("ModalCtrl",["$scope","$modalInstance",function(a,b){a.cancel=b.close,a.close=b.close}]),SwaggerEditor.controller("SecurityCtrl",["$scope","$modal","AuthManager",function(a,b,c){a.getHumanSecurityType=function(a){var b={basic:"HTTP Basic Authentication",oauth2:"OAuth 2.0",apiKey:"API Key"};return b[a]},a.isAuthenticated=c.securityIsAuthenticated,a.authenticate=function(a,d){"basic"===d.type?b.open({templateUrl:"templates/auth/basic.html",controller:["$scope","$modalInstance",function(b,e){b.cancel=e.close,b.authenticate=function(b,f){c.basicAuth(a,d,{username:b,password:f}),e.close()}}],size:"large"}):"oauth2"===d.type?b.open({templateUrl:"templates/auth/oauth2.html",controller:["$scope","$modalInstance",function(b,e){b.cancel=e.close,b.authenticate=function(b){b&&(c.oAuth2(a,d,{accessToken:b}),e.close())}}],size:"large"}):"apiKey"===d.type?b.open({templateUrl:"templates/auth/api-key.html",controller:["$scope","$modalInstance",function(b,e){b.cancel=e.close,b.authenticate=function(b){b&&(c.apiKey(a,d,{apiKey:b}),e.close())}}],size:"large"}):window.alert("Not yet supported")}}]),SwaggerEditor.directive("onReadFile",["$parse",function(a){return{restrict:"A",scope:!1,link:function(b,c,d){var e=a(d.onReadFile);c.on("change",function(a){var c=new FileReader;c.onload=function(a){b.$apply(function(){e(b,{$fileContent:a.target.result})})},c.readAsText((a.srcElement||a.target).files[0])})}}}]),SwaggerEditor.directive("path",function(){return{restrict:"E",replace:!0,templateUrl:"templates/path.html",scope:!1}}),SwaggerEditor.directive("operation",["defaults",function(a){return{restrict:"E",replace:!0,templateUrl:"templates/operation.html",scope:!1,link:function(b){b.isTryOpen=!1,b.enableTryIt=a.enableTryIt,b.toggleTry=function(){b.isTryOpen=!b.isTryOpen},b.getParameters=function(){var a=Array.isArray(b.path.pathParameters),c=Array.isArray(b.operation.parameters);return c||a?c?a?b.operation.parameters.concat(b.path.pathParameters):b.operation.parameters||[]:b.path.pathParameters||[]:[]},b.getParameterSchema=function(a){if(a.schema)return a.schema;if("array"===a.type)return _.pick(a,"type","items");var b={type:a.type};return a.format&&(b.format=a.format),b},b.hasAResponseWithSchema=function(a){return a.some(function(a){return a.schema})},b.hasAResponseWithHeaders=function(a){return a.some(function(a){return a.headers})}}}}]),SwaggerEditor.directive("schemaModel",["$parse",function(a){return{templateUrl:"templates/schema-model.html",restrict:"E",replace:!0,scope:{schema:"&"},link:function(b,c,d){b.mode="model",b.json=removeVendorExtensions(a(d.schema)(b.$parent))}}}]),SwaggerEditor.directive("stopEvent",function(){return{restrict:"A",link:function(a,b){b.bind("click",function(a){a.stopPropagation()})}}}),SwaggerEditor.directive("autoFocus",["$timeout",function(a){return{restrict:"A",link:function(b,c,d){a(function(){c[0].focus()},d.autoFocus||1)}}}]),SwaggerEditor.directive("scrollIntoViewWhen",function(){return{restrict:"A",link:function(a,b,c){a.$watch(c.scrollIntoViewWhen,function(a){a&&b.scrollIntoView(100)})}}}),SwaggerEditor.directive("collapseWhen",function(){var a=200;return{restrict:"A",link:function(b,c,d){function e(){setTimeout(function(){c.removeAttr("style")},a)}var f=null;if(d.collapseWhen){var g=c.clone();g.removeAttr("style"),g.appendTo("body"),f=g.height(),g.remove()}b.$watch(d.collapseWhen,function(a){a?(f=c.height(),c.height(f),c.height(0),c.addClass("c-w-collapsed"),e()):(c.height(f),c.removeClass("c-w-collapsed"),e())})}}}),SwaggerEditor.directive("trackEvent",["Analytics",function(a){return{restrict:"A",link:function(b,c,d){c.bind("click",function(){var b=d.trackEvent;if(angular.isString(b)){var c="click-item",e=b.split(" ").join("->"),f=window.location.origin;a.sendEvent(c,e,f)}})}}}]),SwaggerEditor.config(["$provide",function(a){a.constant("defaults",window.SwaggerEditor.$defaults)}]),SwaggerEditor.config(["$provide",function(a){a.constant("strings",{stausMessages:{"error-connection":"Server connection error","error-general":"Error!","progress-working":"Working...","progress-unsaved":"Unsaved changes","success-process":"Processed with no error","progress-saving":"Saving...","success-saved":"All changes saved","error-yaml":"YAML Syntax Error","error-swagger":"Swagger Error"}})}]),SwaggerEditor.filter("formdata",function(){return function(a){var b=[];return angular.isObject(a)&&Object.keys(a).forEach(function(c){angular.isDefined(a[c])&&b.push(c+": "+a[c])}),b.join("\n")}}),SwaggerEditor.controller("TryOperation",["$scope","formdataFilter","AuthManager","SchemaForm",function(a,b,c,d){function e(){var a={theme:"bootstrap3",show_errors:!0},b={no_additional_properties:!1,disable_properties:!1,disable_edit_json:!1},c=f();d.options=_.extend(a,c?b:{})}function f(){if(!s())return!1;try{for(var b in a.requestSchema.properties.parameters.properties){var c=a.requestSchema.properties.parameters.properties[b];if("body"===c["in"]){if("object"===c.type&&(c.additionalProperties||_.isEmpty(c.properties)))return!0;if("array"===c.type&&(c.items.additionalProperties||_.isEmpty(c.items.properties)))return!0}}}catch(d){}return!1}function g(){var a={type:"object",title:"Request",properties:{scheme:{type:"string",title:"Scheme","enum":j("schemes")},accept:{type:"string",title:"Accept","enum":j("produces")}}};return A.length&&(a.properties.security={title:"Security",description:"Only authenticated security options are shown.",type:"array",uniqueItems:!0,items:{type:"string","enum":A}}),s()&&(a.properties.contentType={type:"string",title:"Content-Type","enum":["multipart/form-data","x-www-form-urlencoded","application/json"]}),z.length&&(a.properties.parameters={type:"object",title:"Parameters",properties:{}},z.map(l).map(i).forEach(function(b){a.properties.parameters.properties[b.name]=b})),a}function h(){var a={scheme:[j("schemes")[0]],accept:j("produces")[0]};return A.length&&(a.security=[A[0]]),s()&&(a.contentType="application/json"),z.length&&(a.parameters={},z.map(l).map(i).forEach(function(b){var c={object:{},array:[],integer:0,string:""};if(angular.isDefined(b["default"]))a.parameters[b.name]=b["default"];else if(angular.isDefined(c[b.type])){var d=b.name||b.name;"object"===b.type?a.parameters[d]=m(b):a.parameters[d]=c[b.type]}else a.parameters[b.name]=""})),a}function i(a){return!a.title&&angular.isString(a.name)&&(a.title=a.name),a.type||(a.properties&&(a.type="object"),a.items&&(a.type="array")),"file"===a.type&&(a.type="string",a.format="file"),a}function j(b){var c={produces:["*/*"],schemes:["http"]};return Array.isArray(a.operation[b])?a.operation[b]:Array.isArray(a.specs[b])?a.specs[b]:c[b]?c[b]:void 0}function k(){var b=[];return Array.isArray(a.operation.security)&&(b=b.concat(a.operation.security.map(function(a){return Object.keys(a)[0]}))),Array.isArray(a.specs.security)&&(b=b.concat(a.specs.security.map(function(a){return Object.keys(a)[0]}))),_.unique(b).filter(function(a){return c.securityIsAuthenticated(a)})}function l(a){return a.schema?_.omit(_.extend(a,a.schema),"schema"):a}function m(a){if("object"!==a.type)throw new TypeError("schema should be an object schema.");var b={string:"",integer:0},c={};return a.properties?(Object.keys(a.properties).forEach(function(d){"object"===a.properties[d].type?c[d]=m(a.properties[d]):c[d]=b[a.properties[d].type]||null}),c):c}function n(a){return function(b){return b["in"]===a}}function o(b,c){b||(b={});var d=a.requestModel.parameters[c.name],e=a.requestSchema.properties.parameters.properties[c.name].required===!0;return""!==d||e?(b[c.name]=a.requestModel.parameters[c.name],b):b}function p(){var b,d,e=a.requestModel,f=e.scheme,g=y.host||window.location.host,h=y.basePath||"",i=z.filter(n("path")).reduce(o,{}),j=z.filter(n("query")).reduce(o,{}),k=z.filter(n("query")).some(function(a){return a.items&&a.items.collectionFormat}),l=/{([^{}]+)}/g;return"/"===h&&(h=""),angular.isArray(e.security)&&e.security.forEach(function(a){var b=c.getAuth(a);if(b&&"apiKey"===b.type&&"query"===b.security["in"]){var d={};d[b.security.name]=b.options.apiKey,_.extend(j,d)}}),b=window.decodeURIComponent($.param(j,k)),d=a.path.pathName.replace(l,function(a){return i[a.substring(1,a.length-1)]||a}),b=b?"?"+b:"",f+"://"+g+h+d+b}function q(){var b=z.filter(n("header")).reduce(o,{});return angular.isArray(a.requestModel.security)&&a.requestModel.security.forEach(function(a){var d=c.getAuth(a);if(d){var e={};"basic"===d.type?e={Authorization:"Basic "+d.options.base64}:"apiKey"===d.type&&"header"===d.security["in"]?e[d.security.name]=d.options.apiKey:"oAuth2"===d.type&&(e={Authorization:"Bearer "+d.options.accessToken}),b=_.extend(b,e)}}),b}function r(){var b=q(),c=a.getRequestBody(),d=(a.specs.host||window.location.host).replace(/\:.+/,""),e={Host:d,Accept:a.accepts||"*/*","Accept-Encoding":"gzip,deflate,sdch","Accept-Language":"en-US,en;q=0.8,fa;q=0.6,sv;q=0.4","Cache-Control":"no-cache",Connection:"keep-alive",Origin:window.location.origin,Referer:window.location.origin+window.location.pathname,"User-Agent":window.navigator.userAgent};return b=_.extend(b,e),null!==c&&(b["Content-Length"]=c.length,b["Content-Type"]=a.requestModel.contentType),b}function s(){var a=z.filter(n("body")),b=z.filter(n("formData"));return a.length||b.length}function t(){if(!s())return null;var b=z.filter(n("body"))[0],c=z.filter(n("formData"));if(b){var d=b.name,e=a.requestModel.parameters[d];if("file"===b.format){var f={};return f[B]=e,f}return e}return c.reduce(o,{})}function u(){var c=z.filter(n("body"))[0],d=t(),e=a.requestModel.contentType;if(void 0===d||null===d)return null;if(d[B]){var f=c.name,g=new FormData,h=$('input[type="file"][name*="'+f+'"]')[0];if(!h)return"No file is selected";var i=h.files[0];return i?(g.append(f,i,i.name),g):"No file is selected"}return e?e.indexOf("form-data")>-1?b(d):e.indexOf("application/json")>-1?JSON.stringify(d,null,2):e.indexOf("x-www-form-urlencoded")>-1?$.param(d):null:d}function v(){return u()&&u().indexOf(B)>-1}function w(a){var b={};return a.split("\n").forEach(function(a){var c=a.split(":")[0],d=a.split(":")[1];c&&angular.isString(c)&&angular.isString(d)&&(b[c.trim()]=d.trim())}),b}function x(){a.xhrInProgress=!0,a.error=null;var b=["Host","Accept-Encoding","Connection","Origin","Referer","User-Agent","Cache-Control","Content-Length"];$.ajax({url:a.generateUrl(),type:a.operation.operationName,headers:_.omit(a.getHeaders(),b),data:a.getRequestBody(),contentType:a.contentType}).fail(function(b,c,d){a.xhrInProgress=!1,a.textStatus=c,a.error=d,a.xhr=b,a.$digest()}).done(function(b,c,d){a.textStatus=c,a.xhrInProgress=!1,a.responseData=b,a.xhr=d,a.responseHeaders=w(d.getAllResponseHeaders()),a.$digest()})}var y=a.$parent.specs,z=a.getParameters(),A=k(),B=" F I L E ";a.generateUrl=p,a.makeCall=x,a.xhrInProgress=!1,a.parameters=z,a.getRequestBody=u,a.hasRequestBody=s,a.getHeaders=r,a.requestModel=h(),a.requestSchema=g(),a.hasFileParam=v(),a.httpProtorcol="HTTP/1.1",a.locationHost=window.location.host,e(),a.prettyPrint=function(a){try{return JSON.stringify(JSON.parse(a),null,2)}catch(b){}return a},a.isJson=function(a){if(angular.isObject(a)||angular.isArray(a))return!0;var b;try{JSON.parse(a)}catch(c){b=c}return!b},a.isType=function(a,b){var c=new RegExp(b);return a["Content-Type"]&&c.test(a["Content-Type"])},a.isCrossOrigin=function(){return y.host&&y.host!==a.locationHost}}]),SwaggerEditor.service("Sorter",function(){function a(a){var c=[];return angular.isObject(a)?(c=Object.keys(a).map(function(c){if(c.toLowerCase().substring(0,2)!==d&&"parameters"!==c){var e={operationName:c,responses:b(a[c].responses)};return a[c]=_.omit(a[c],"responses"),_.extend(e,a[c]),e}}),_.compact(c)):c}function b(a){var b=[];return angular.isObject(a)?(b=Object.keys(a).map(function(b){if(b.toLowerCase().substring(0,2)!==d){var c=_.extend({responseCode:b},a[b]);return c}}),_.compact(b)):b}function c(a){return function(b){if(!a)return!0;if(Array.isArray(a)&&Array.isArray(b.tags))for(var c=0;c<a.length;c++)for(var d=0;d<b.tags.length;d++)if(a[c]===b.tags[d])return!0;return!1}}var d="x-";this.sort=function(b,e){var f=_.cloneDeep(b);if(b&&b.paths){var g=Object.keys(b.paths).map(function(f){return f.toLowerCase().substring(0,2)!==d?{pathName:f,pathParameters:b.paths[f].parameters,operations:a(b.paths[f]).filter(c(e.limitToTags))}:void 0});f.paths=_.compact(g)}return f}}),SwaggerEditor.service("TagManager",["$stateParams",function(a){function b(a,b){this.name=a,this.description=b}function c(a,c){if(a){var e=d.map(function(a){return a.name});_.include(e,a)||d.push(new b(a,c))}}var d=[];this.resetTags=function(){d=[]},this.tagIndexFor=function(a){for(var b=0;b<d.length;b++)if(d[b].name===a)return b},this.getAllTags=function(){return d},this.registerTagsFromSpecs=function(a){angular.isObject(a)&&(d=[],Array.isArray(a.tags)&&a.tags.forEach(function(a){angular.isString(a.name)&&c(a.name,a.description)}),Array.isArray(a.paths)&&a.paths.forEach(function(a){Array.isArray(a.operations)&&a.operations.forEach(function(a){Array.isArray(a.tags)&&a.tags.forEach(function(a){c(a)})})}))},this.getCurrentTags=function(){return a.tags?a.tags.split(","):[]},this.registerTag=c}]),SwaggerEditor.service("Autocomplete",["$rootScope","snippets","ASTManager","KeywordMap",function(a,b,c,d){function e(a){return{caption:a.name,snippet:a.content,meta:"snippet"}}function f(a){var b=c.pathForPosition(a.row,a.column-2);return b}function g(a,b){if(!Array.isArray(a)||!Array.isArray(b))return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)return new RegExp(b[c]).test(a[c]);return!0}function h(b){c.refresh(a.editorValue);var d=f(b);return d||1!==b.column||(d=[]),function(a){return g(d,a.path)}}function i(a,b){for(var c,d=Object.keys(a),e=0;e<d.length;e++)if(c=new RegExp(d[e]),c.test(b)&&a[d[e]])return a[d[e]]}function j(a){var b=f(a),c=d.get(),e=b.shift();if(!Array.isArray(b))return[];for(;e&&angular.isObject(c);)c=i(c,e),e=b.shift();return angular.isObject(c)?(angular.isArray(c)&&(c=c[0]),angular.isObject(c)?Object.keys(c).map(k):[]):[]}function k(a){return{name:a,value:a,score:300,meta:"swagger"}}function l(a){return b.filter(h(a)).map(e).map(m(a))}function m(a){var b=f(a);return function(a){var c=1e3;return b.forEach(function(b){a.snippet.indexOf(b)&&(c=500)}),a.score=c,a}}var n=null,o={getCompletions:function(a,b,c,d,e){a.completer.autoSelect=!0;var f=j(c),g=l(c);e(null,f.concat(g))}};this.init=function(a){n=a,n.completers=[o]}}]),SwaggerEditor.service("FileLoader",["$http","defaults",function(a,b){function c(c,e){return void 0===e&&(e=!1),_.startsWith(c,"http")&&!e&&(c=b.importProxyUrl+c),a({method:"GET",url:c,headers:{
accept:"application/x-yaml,text/yaml,application/json,*/*"}}).then(function(a){return angular.isObject(a.data)?jsyaml.dump(a.data):d(a.data)})}function d(a){var b,c;if(!angular.isString(a))throw new Error("load function only accepts a string");try{JSON.parse(a)}catch(d){b=d}if(!b)return jsyaml.dump(JSON.parse(a));try{jsyaml.load(a)}catch(d){c=d}if(!c)return a;throw new TypeError("load function called with an invalid argument")}this.load=d,this.loadFromUrl=c}]),SwaggerEditor.service("Editor",["Autocomplete","ASTManager","LocalStorage","defaults","$interval",function(a,b,c,d,e){function f(a){z&&a&&a.mark&&a.reason&&z.getSession().setAnnotations([{row:a.mark.line,column:a.mark.column,text:a.reason,type:"error"}])}function g(a,c){var d=0,e=0;z&&a.path&&(a.path.length&&(d=b.lineForPath(_.cloneDeep(a.path))),z.getSession().setAnnotations([{row:d,column:e,text:a.message,type:c||"error"}]))}function h(){z.getSession().clearAnnotations()}function i(c){window.e=z=c,ace.config.set("basePath","bower_components/ace-builds/src-noconflict"),a.init(c),z.setOptions({fontFamily:"Source Code Pro",enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0}),k(),b.refresh(z.getValue()),q(b.onFoldChanged),A.forEach(function(a){a(C)}),A=[];var d=z.getSession();d.on("changeFold",l),m(d)}function j(){z&&c.save("editor-settings",z.getOptions())}function k(){z&&c.load("editor-settings").then(function(a){a=a||{theme:E},z.setOptions(a)})}function l(){var a=arguments;B.forEach(function(b){b.apply(z,a)})}function m(a){a.setTabSize(2)}function n(a){angular.isFunction(a)&&A.push(a)}function o(){var a=z.getSession(),b=null;return a.foldAll(),b=a.unfold(),Array.isArray(b)?b:[]}function p(a){return z.session.getLine(a)}function q(a){B.push(a)}function r(a,b){z&&z.getSession().foldAll(a,b)}function s(a){z&&z.getSession().unfold(a,100)}function t(a){z.gotoLine(a)}function u(){return z?z.getCursorPosition().row:null}function v(){ace.config.loadModule("ace/ext/settings_menu",function(a){a.init(z),z.showSettingsMenu();var b=e(function(){0===$("#ace_settingsmenu").length&&(j(),e.cancel(b),b=void 0)},300)})}function w(){window.confirm("Are you sure?")&&z&&(z.setOptions(D),j())}function x(a){if(z){var b=parseInt(z.getOption("fontSize"),10);z.setOption("fontSize",b+a),j()}}function y(){z&&z.focus()}var z=null,A=[],B=[],C=this,D=d.editorOptions||{},E=D.theme||"ace/theme/atom_dark";this.aceLoaded=i,this.ready=n,this.annotateYAMLErrors=f,this.annotateSwaggerError=g,this.clearAnnotation=h,this.getAllFolds=o,this.getLine=p,this.onFoldChanged=q,this.addFold=r,this.removeFold=s,this.gotoLine=t,this.lineInFocus=u,this.showSettings=v,this.saveEditorSettings=j,this.adjustFontSize=x,this.resetSettings=w,this.focus=y}]),SwaggerEditor.service("Builder",["$q",function(a){function b(b){var c,d=a.defer();if(!b)return d.reject({specs:null,errors:[{emptyDocsError:"Empty Document Error"}]}),d.promise;try{c=e(b)}catch(g){return d.reject({errors:[{yamlError:g}],specs:null}),d.promise}if(c&&angular.isObject(c.definitions))for(var h in c.definitions)angular.isObject(c.definitions[h])&&_.isEmpty(c.definitions[h].title)&&(c.definitions[h].title=h);return f.validate(c,function(a,b){return a?d.reject({specs:c,errors:[a]}):b&&b.errors&&b.errors.length?d.reject(_.extend({specs:c},b)):void JsonRefs.resolveRefs(c,function(a,e){return a?d.reject({errors:[a],specs:c}):void d.resolve(_.extend({specs:e},b))})}),d.promise}function c(a,b,c){var d,f=null;try{d=e(a)}catch(g){f={yamlError:g}}return f||(c.paths[b]=d[b]),{specs:c,error:f}}function d(a,b){return _.pick(a.paths,b)}var e=jsyaml.load,f=SwaggerTools.specs.v2;this.buildDocs=b,this.updatePath=c,this.getPath=d}]),SwaggerEditor.service("ASTManager",function(){function a(a){a=a||"";try{m=a,k=yaml.compose(a),b()}catch(c){console.warn("Failed to refresh line numbers",c)}}function b(){l.forEach(function(a){a()})}function c(a,b){var d;if(b=b||k,!b)return b;if(!Array.isArray(a))throw new Error("Need path to find the node in the AST");if(!a.length)return b;if(d=a.shift(),b.tag===h)for(var e=0;e<b.value.length;e++){var f=b.value[e];if(f[0].value===d)return c(a,f[1])}else if(b.tag===i)return d=parseInt(d,10),b=b.value[d],c(a,b);return b}function d(a,b){var c;if(a=a||k,!angular.isObject(a)||!a.value)return a;if(a.start_mark.line===b)return a;for(var e=0;e<a.value.length;e++)if(a.tag===h?c=d(a.value[e][1],b):a.tag===i&&(c=d(a.value[e],b)),c)return c;return null}function e(a){var b=c(a);return b?b.start_mark.line:null}function f(b,c){function d(a,j){return j?(e=j.start_mark,f=j.end_mark,e.line===b&&f.line===b&&e.column<=c&&f.column>=c?g=a:void(j.tag===h?j.value.forEach(function(b){d(a,b[0]),d(a.concat(b[0].value),b[1])}):j.tag===i&&j.value.forEach(function(b,c){d(a.concat(c),b)}))):void 0}var e,f,g=[],l=m.split("\n"),n=null;if(b!==l.length-1&&0!==c&&!/.\: ./.test(l[b])){n=_.clone(m);for(var o=l.slice(0,b).join("\n")+"\n",p=l[b],q=p.split("");q.length&&" "!==q.pop();)o+=" ";a(o)}if(void 0===b)return g;if(d([],k),k&&k.end_mark.line===b&&0===g.length)for(var r=k;c>0;)r.tag===h&&(g.push(r.value[r.value.length-1][0].value),r=r.value[r.value.length-1][1]),c-=j;return n&&a(n),g}function g(a,b,c){c="undefined"==typeof c?b.folded:!c,c?(a.removeFold(b.start_mark.line),b.folded=!1):(a.addFold(b.start_mark.line-1,b.end_mark.line-1),b.folded=!0)}var h="tag:yaml.org,2002:map",i="tag:yaml.org,2002:seq",j=2,k={},l=[],m="";this.onFoldChanged=function(a){var c=a.data.start.row+1,e="remove"!==a.action,f=d(k,c);f&&(f.folded=e),b()},this.toggleFold=function(a,d){var e=c(a,k);e&&e.start_mark&&(g(d,e),b())},this.setFoldAll=function(a,d,e){for(var f,j=c(a,k),l=0;l<j.value.length;l++)j.tag===h?f=j.value[l][1]:j.tag===i&&(f=j.value[l]),g(e,f,d);b()},this.isFolded=function(a){var b=c(a,k);return angular.isObject(b)&&!!b.folded},this.isAllFolded=function(a){var b,d=c(a);if(!d||!Array.isArray(d.value))return!1;for(var e=0;e<d.value.length;e++)if(d.tag===h?b=d.value[e][1]:d.tag===i&&(b=d.value[e]),!b.folded)return!1;return!0},this.onFoldStatusChanged=function(a){l.push(a)},this.refresh=a,this.lineForPath=e,this.pathForPosition=f}),SwaggerEditor.service("BackendHealthCheck",["$http","$interval","defaults","Storage",function(a,b,c,d){var e=!0;this.startChecking=function(){c.useBackendForStorage&&b(function(){a.get(window.location.href).then(function(){e=!0},function(){e=!1,d.save("progress","error-connection")})},c.backendHealthCheckTimeout||5e3)},this.isHealthy=function(){return e}}]),SwaggerEditor.service("Codegen",["$http","defaults","Storage",function(a,b,c){function d(a){angular.isObject(a.data)&&a.data.link&&(window.location=a.data.link)}this.getServers=function(){return a.get(b.codegen.servers).then(function(a){return a.data})},this.getClients=function(){return a.get(b.codegen.clients).then(function(a){return a.data})},this.getSDK=function(e,f){var g=b.codegen[e].replace("{language}",f);return c.load("yaml").then(function(b){var c=jsyaml.load(b);return a.post(g,{spec:c}).then(d)})}}]),SwaggerEditor.service("FocusedPath",["ASTManager","Editor",function(a,b){this.isInFocus=function(c){var d=b.lineInFocus(),e=a.pathForPosition(d);return Array.isArray(e)&&_.isEqual(c,e.slice(0,c.length))}}]),SwaggerEditor.service("Storage",["LocalStorage","Backend","defaults",function(a,b,c){return c.useBackendForStorage?b:a}]),SwaggerEditor.service("LocalStorage",["$localStorage","$q",function(a,b){function c(b,d){null!==d&&(Array.isArray(g[b])&&g[b].forEach(function(a){a(d)}),_.debounce(function(){window.requestAnimationFrame(function(){a[f][b]=d}),"yaml"===b&&c("progress","success-saved")},100)())}function d(c){var d=b.defer();return d.resolve(c?a[f][c]:a[f]),d.promise}function e(a,b){angular.isFunction(b)&&(g[a]||(g[a]=[]),g[a].push(b))}var f="SwaggerEditorCache",g={};a[f]=a[f]||{},this.save=c,this.reset=a.$reset,this.load=d,this.addChangeListener=e}]),SwaggerEditor.service("Backend",["$http","$q","defaults","Builder","ExternalHooks",function(a,b,c,d,e){function f(b){var c=d.buildDocs(b,{resolve:!0});g("progress","progress-saving"),c.error||a.put(p,b).then(function(){e.trigger("put-success",[].slice.call(arguments)),g("progress","success-saved")},function(){e.trigger("put-failure",[].slice.call(arguments)),g("progress","error-connection")})}function g(a,b){m[a]=b,Array.isArray(k[a])&&k[a].forEach(function(a){a(b)}),c.useYamlBackend&&"yaml"===a&&b?o(b):"specs"===a&&b&&o(m[a])}function h(d){if("yaml"!==d){var e=b.defer();return d?e.resolve(m[d]):e.reject(),e.promise}return a.get(p).then(function(a){return c.useYamlBackend?(m.yaml=a.data,m.yaml):a.data})}function i(a,b){angular.isFunction(b)&&(k[a]||(k[a]=[]),k[a].push(b))}function j(){}var k={},l=/^(\/|http(s)?\:\/\/)/,m={},n=c.backendThrottle||200,o=_.throttle(f,n,{leading:!1,trailing:!0}),p=c.backendEndpoint;if(!l.test(p)){var q=_.endsWith(location.pathname,"/")?location.pathname:location.pathname+"/";p=q+c.backendEndpoint,p=p.replace("//","/")}this.save=g,this.reset=j,this.load=h,this.addChangeListener=i}]),SwaggerEditor.service("KeywordMap",["defaults",function(a){function b(){_.extend(this,{title:String,type:String,format:String,"default":this,description:String,"enum":[String],minimum:String,maximum:String,exclusiveMinimum:String,exclusiveMaximum:String,multipleOf:String,maxLength:String,minLength:String,pattern:String,not:String,definitions:{".":this},items:[this],minItems:String,maxItems:String,uniqueItems:String,additionalItems:[this],maxProperties:String,minProperties:String,required:String,additionalProperties:String,allOf:[this],properties:{".":this}})}var c=new b,d={http:String,https:String,ws:String,wss:String},e={description:String,url:String},f={"text/plain":String,"text/html":String,"text/xml":String,"text/csv":String,"application/json":String,"application/octet-stream":String,"application/xml":String,"application/vnd.":String,"application/pdf":String,"audio/":String,"image/jpeg":String,"image/gif":String,"image/png":String,"multipart/form-data":String,"video/avi":String,"video/mpeg":String,"video/ogg":String,"video/mp4":String},g={name:String,description:String},h={name:String,"in":String,description:String,required:String,type:String,format:String,schema:c},i={".":String},j={description:String,schema:{type:String},headers:{".":g},examples:f},k={summary:String,description:String,schemes:{".":d},externalDocs:e,operationId:String,produces:{".":f},consumes:{".":f},deprecated:Boolean,security:i,parameters:[h],responses:{".":j},tags:[String]},l={swagger:String,info:{version:String,title:String,description:String,termsOfService:String,contact:{name:String,url:String,email:String},license:{name:String,url:String}},host:String,basePath:String,schemes:[d],produces:[f],consumes:[f],paths:{".":{parameters:[h],".":k}},definitions:{".":c},parameters:[h],responses:{".":j},security:{".":{".":String}},securityDefinitions:{".":{".":String}},tags:[{name:String,description:String}],externalDocs:{".":e}};this.get=function(){var b=angular.isObject(a.autocompleteExtension)?a.autocompleteExtension:{};return _.extend(l,b)}}]),SwaggerEditor.service("Preferences",["$localStorage",function(a){function b(){a.preferences=d}var c={liveRender:!0},d=a.preferences||c;this.get=function(a){return d[a]},this.set=function(a,c){if(void 0===c)throw new Error("value was undefined");d[a]=c,b()},this.reset=function(){d=c,b()},this.getAll=function(){return d}}]),SwaggerEditor.service("AuthManager",["$sessionStorage",function(a){a.$default({securities:{},securityKeys:{}});var b=a.securities,c=a.securityKeys;this.basicAuth=function(a,d,e){if("$$hashKey"!==a){if(!angular.isObject(e))throw new Error("Can not authenticate with options");e.username=e.username||"",e.password=e.password||"",e.isAuthenticated=!0,e.base64=window.btoa(e.username+":"+e.password),e.securityName=a;var f=c[a];b[f]={type:"basic",security:d,options:e}}},this.oAuth2=function(a,d,e){if("$$hashKey"!==a){e.isAuthenticated=!0;var f=c[a];b[f]={type:"oAuth2",security:d,options:e}}},this.apiKey=function(a,d,e){if("$$hashKey"!==a){e.isAuthenticated=!0;var f=c[a];b[f]={type:"apiKey",security:d,options:e}}},this.getAuth=function(a){var d=c[a];return d?b[d]:{}},this.securityIsAuthenticated=function(a){var d={},e=c[a];return e&&(d=b[e]),d&&d.options&&d.options.isAuthenticated}}]),SwaggerEditor.service("Analytics",["defaults",function(a){var b=!1,c=!1,d=_.defaults(a,{analytics:{google:{id:null}}}).analytics.google.id;this.initialize=function(){var a=window.ga;return window.ga&&d?void(c||(a("require","linker"),a("linker:autoLink",["swagger.io"]),a("create",d,"auto",{allowLinker:!0}),a("send","pageview"),c=!0)):void(b=!0)},this.sendEvent=function(){if(!b){if(!arguments.length)throw new Error("sendEvent was called with no arguments");Array.prototype.unshift.call(arguments,"event"),Array.prototype.unshift.call(arguments,"send"),window.ga.apply(window.ga,arguments)}}}]),SwaggerEditor.service("ExternalHooks",function(){var a={"code-change":[],"put-success":[],"put-failure":[]};SwaggerEditor.on=function(b,c){if(!angular.isString(b))throw new TypeError("eventName must be string");if(!angular.isFunction(c))throw new TypeError("callback must be a function");if(!a[b])throw new Error(b+" is not a valid event name");var d=a[b].some(function(a){return a===c});d||a[b].push(c)},this.trigger=function(b,c){if(!angular.isString(b))throw new TypeError("eventName must be string");if(!angular.isArray(c))throw new TypeError("args must be an array");if(!a[b])throw new Error(b+" is not a valid event name");a[b].forEach(function(a){a.apply(null,c)})}}),SwaggerEditor.config(["$compileProvider","$stateProvider","$urlRouterProvider",function(a,b,c){c.otherwise("/"),b.state("home",{url:"/?import&tags&no-proxy",views:{"":{templateUrl:"views/main.html",controller:"MainCtrl"},"header@home":{templateUrl:"views/header/header.html",controller:"HeaderCtrl"},"editor@home":{templateUrl:"views/editor/editor.html",controller:"EditorCtrl"},"preview@home":{templateUrl:"views/preview/preview.html",controller:"PreviewCtrl"}}}),a.aHrefSanitizationWhitelist(".")}]),function(a){a.fn.scrollIntoView=function(b,c,d){function e(b,c){void 0===c?a.isFunction(f.complete)&&f.complete.call(b):f.smooth?a(b).stop().animate({scrollTop:c},f):(b.scrollTop=c,a.isFunction(f.complete)&&f.complete.call(b))}var f=a.extend({},a.fn.scrollIntoView.defaults);"object"==a.type(b)?a.extend(f,b):"number"==a.type(b)?a.extend(f,{duration:b,easing:c,complete:d}):0==b&&(f.smooth=!1);var g=1/0,h=0;1==this.size()?null==(g=this.get(0).offsetTop)||(h=g+this.get(0).offsetHeight):this.each(function(a,b){b.offsetTop<g?g=b.offsetTop:b.offsetTop+b.offsetHeight>h?h=b.offsetTop+b.offsetHeight:null}),h-=g;for(var i=this.commonAncestor().get(0),j=a(window).height();i;){var k=i.scrollTop,l=i.clientHeight;if(l>j&&(l=j),0==l&&"BODY"==i.tagName&&(l=j),i.scrollTop!=(null==(i.scrollTop+=1)||i.scrollTop)&&null!=(i.scrollTop-=1)||i.scrollTop!=(null==(i.scrollTop-=1)||i.scrollTop)&&null!=(i.scrollTop+=1))return void(k>=g?e(i,g):g+h>k+l?e(i,g+h-l):e(i,void 0));i=i.parentNode}return this},a.fn.scrollIntoView.defaults={smooth:!0,duration:null,easing:a.easing&&a.easing.easeOutExpo?"easeOutExpo":null,complete:a.noop(),step:null,specialEasing:{}},a.fn.isOutOfView=function(a){var b=!0;return this.each(function(){var c=this.parentNode,d=c.scrollTop,e=c.clientHeight,f=this.offsetTop,g=this.offsetHeight;(a?f>d+e:f+g>d+e)||(a?d>f+g:d>f)||(b=!1)}),b},a.fn.commonAncestor=function(){var b=[],c=1/0;a(this).each(function(){var d=a(this).parents();b.push(d),c=Math.min(c,d.length)});for(var d=0;d<b.length;d++)b[d]=b[d].slice(b[d].length-c);for(var d=0;d<b[0].length;d++){var e=!0;for(var f in b)if(b[f][d]!=b[0][d]){e=!1;break}if(e)return a(b[0][d])}return a([])}}(jQuery);